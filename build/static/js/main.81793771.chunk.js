(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,t,n){e.exports=n(42)},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(17),c=n.n(u),o=n(18),l=n(3),s=n(4),i=n.n(s),m=function(e){var t=e.persons,n=e.filterValue,u=e.deletePerson;return r.a.createElement(a.Fragment,null,t.filter((function(e){return!0===e.name.toLowerCase().includes(n)})).map((function(e){return r.a.createElement("div",{key:"d".concat(e.name)},r.a.createElement("span",{key:e.name},e.name," ",e.number),r.a.createElement("button",{key:"b".concat(e.name),onClick:function(){return u(e.id,e.name)}},"delete"))})))},d=function(e){var t=e.filterValue,n=e.setFilterValue;return r.a.createElement("div",null,"filter shown with:"," ",r.a.createElement("input",{type:"search",value:t,onChange:function(e){return n(e.target.value.toLowerCase())}}))},p=function(e){var t=e.addPerson,n=e.newName,a=e.setNewName,u=e.newPhoneNumber,c=e.setNewPhoneNumber;return r.a.createElement("form",{onSubmit:function(e){return t(e)}},r.a.createElement("h2",null,"Add new"),r.a.createElement("div",null,"name:"," ",r.a.createElement("input",{value:n,onChange:function(e){return a(e.target.value)}})),r.a.createElement("div",null,"number:"," ",r.a.createElement("input",{value:u,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},f=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{style:{color:"hsl(146.7,46.4%,15.1%)",background:"hsl(146.7,46.4%,85.1%)",padding:"1rem",border:"3px solid hsl(146.7,46.4%,15.1%)",borderRadius:"5px",margin:"1rem"}},t)},b=n(2),h=n.n(b),v=n(7),E=function(){var e=Object(v.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.a.delete("".concat("/api/persons","/").concat(t)),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={create:function(){var e=Object(v.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.a.post("/api/persons",t),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(v.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.a.put("".concat("/api/persons","/").concat(t),n),e.next=3,a;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deletePerson:E},j=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)([]),s=Object(l.a)(c,2),b=s[0],h=s[1],v=Object(a.useState)(""),E=Object(l.a)(v,2),j=E[0],O=E[1],g=Object(a.useState)(""),k=Object(l.a)(g,2),N=k[0],y=k[1],P=Object(a.useState)(""),x=Object(l.a)(P,2),S=x[0],C=x[1],V=Object(a.useState)(""),F=Object(l.a)(V,2),A=F[0],D=F[1];Object(a.useEffect)((function(){i.a.get("http://localhost:3001/api/persons").then((function(e){h(e.data),u(!1)}))}),[n]);var J=function(){O(""),y("")};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),A?r.a.createElement(f,{message:A}):null,r.a.createElement(d,{filterValue:S,setFilterValue:C}),r.a.createElement(p,{addPerson:function(e){if(e.preventDefault(),function(e,t){return 0!==e.filter((function(e){return e.name===t})).length}(b,j))return alert("".concat(j," is already added to phonebook")),J();w.create({name:j,number:N}),h([].concat(Object(o.a)(b),[{name:j,number:N}])),u(!0),D("Added ".concat(j)),setTimeout((function(){return D("")}),2e3),J()},newName:j,setNewName:O,newPhoneNumber:N,setNewPhoneNumber:y}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(m,{persons:b,filterValue:S,deletePerson:function(e,t){if(window.confirm("Delete ".concat(t," ?")))return w.deletePerson(e),h(b.splice(e-1,1)),void u(!0);console.log("no clicked")}}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.81793771.chunk.js.map